(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function f(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=f(o);fetch(o.href,l)}})();const oe="modulepreload",se=function(y){return"/lithium/"+y},X={},ce=function(p,f,a){if(!f||f.length===0)return p();const o=document.getElementsByTagName("link");return Promise.all(f.map(l=>{if(l=se(l),l in X)return;X[l]=!0;const d=l.endsWith(".css"),M=d?'[rel="stylesheet"]':"";if(!!a)for(let x=o.length-1;x>=0;x--){const L=o[x];if(L.href===l&&(!d||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${M}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":oe,d||(h.as="script",h.crossOrigin=""),h.href=l,document.head.appendChild(h),d)return new Promise((x,L)=>{h.addEventListener("load",x),h.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>p()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})};class fe{}const ae=0,V=1,ue=2,ye=[..."0123456789"],de=[...`!?:=+-*/\\()[]{}&%$^'\`"><;,.@ 
\r`],z=y=>ye.includes(y)?ae:de.includes(y)?V:ue;class he{static tokenize(p){const f=[];for(let a=0;a<p.length;a++){const o=p[a],l=z(o);if(l===V){f.push({type:l,text:o});continue}let d=o;for(;;){a++;const M=p[a];if(a===p.length||z(M)!==l){f.push({type:l,text:d}),a--;break}d+=M}}return f}}const ke=0,pe=1,ge=2,xe=["abstract","async","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","final","finally","for","function","goto","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","type","from","string","number","undefined","string","boolean"],me=[..."\"'`"],W="#699f52",P="#787d73",G="#53a7d5",ve="#c67c97",Me="#53a7d5",Le="#ce7140";function be(y,p){for(let f=p;f>=0;f--){const a=y[f];if(a.text!==" ")return a}return null}function Ee(y,p){for(let f=p;f<y.length;f++){const a=y[f];if(a.text!==" ")return a}return null}class J extends fe{tokenize(p){return he.tokenize(p)}paint(p){const f=this.tokenize(p),a=[];for(let o=0;o<f.length;o++){const l=f[o];if(l.type===pe){if(l.text==="/"&&f[o+1]&&f[o+1].text==="*"){let g="/*";for(o++;;){o++;const h=f[o],x=f[o+1];if(!h)break;if(h.text==="*"&&x&&x.text==="/"){g+="*/",o++;break}if(h.text===`
`){a.push({color:P,text:g}),g="",a.push({color:"",text:`
`});continue}g+=h.text}a.push({color:P,text:g});continue}if(l.text==="/"&&f[o+1]&&f[o+1].text==="/"){let g="//";for(o++;;){o++;const h=f[o];if(!h||h.text===`
`){o--;break}g+=h.text}a.push({color:P,text:g});continue}if(me.includes(l.text)){let g=l.text,h=!1,x=g,L=o,S=[];for(;;){o++;const b=f[o];if(!b||b.text===`
`){if(!b||g!=="`"){o=L,x=g,S=[];break}S.push({color:W,text:x}),x="",S.push({color:"",text:`
`});continue}if(b.text===g&&!h){x+=g;break}b.text==="\\"?h=!h:h=!1,x+=b.text}a.push(...S,{color:W,text:x});continue}a.push({color:"",text:l.text});continue}if(l.type===ke){const g=f[o-1];a.push({color:g&&g.type===ge?"":Me,text:l.text});continue}if(xe.includes(l.text)){a.push({color:Le,text:l.text});continue}const d=be(f,o-1),M=Ee(f,o+1);if(d&&d.text==="."){if(M&&M.text==="("){a.push({color:G,text:l.text});continue}a.push({color:ve,text:l.text});continue}if(d&&d.text==="function"||M&&M.text==="("){a.push({color:G,text:l.text});continue}a.push({color:"",text:l.text})}return a}}const we={".js":J,".ts":J};function Te(y){const p=new we[".ts"];y.innerHTML=`<div class="cursor blink"></div>
<div class="selection"></div>
<div class="lines"></div>
<div class="code"></div>
<div class="scroll-x"><div class="scroll-x-p"></div></div>
<div class="scroll-y"><div class="scroll-y-p"></div></div>`;const f=document.querySelector(".cursor"),a=document.querySelector(".selection"),o=y.querySelector(".lines"),l=y.querySelector(".code"),d=y.querySelector(".scroll-x"),M=y.querySelector(".scroll-x-p"),g=y.querySelector(".scroll-y"),h=y.querySelector(".scroll-y-p");let x=!1,L=!1;const S=8.88,b=19;let e={line1:0,key1:0,line2:0,key2:0};const k={x:0,y:0},K=[];let w=-1,H;function q(t,n){return o.getBoundingClientRect().width+t*S+.5+"px "+(n*b+1.5)+"px"}function _(t,n,r){return`<div style="translate: ${q(t,n)}; width: ${r*S}px"></div>`}function $(){clearTimeout(H),H=setTimeout(()=>{const t={code:[...i],cursor:{...e}};JSON.stringify(t)!==JSON.stringify(K[w])&&(K.splice(w+1,0,t),w++)})}function A(t){w=t;const n=K[w];if(n){i=[...n.code],l.innerHTML='<div class="line"></div>'.repeat(i.length);for(let r=0;r<i.length;r++)v(r,!0);e={...n.cursor},O(),m(!0)}}function Q(t,n,r,s){if(n===s)return i[n].substring(Math.min(t,r),Math.max(t,r));let c="";if(n>s){let u=s;s=n,n=u,u=r,r=t,t=u}c+=i[n].substring(t)+`
`;for(let u=n+1;u<s;u++)c+=i[u]+`
`;return c+=i[s].substring(0,r),c}function m(t=!1){if(t||$(),f.style.translate=q(e.key2,e.line2),!T()){a.innerHTML="";return}let n="";if(e.line1===e.line2){const r=Math.min(e.key1,e.key2),s=Math.max(e.key1,e.key2);n=_(r,e.line1,s-r)}else{const r=Math.min(e.line1,e.line2),s=Math.max(e.line1,e.line2);let c=r===e.line1?e.key1:e.key2,u=r===e.line2?e.key1:e.key2;n+=_(c,r,i[r].length-c);for(let E=r+1;E<s;E++)i[E].length>0&&(n+=_(0,E,i[E].length));e.line1!==e.line2&&(n+=_(0,s,u))}a.innerHTML=n}function I(t){x!==t&&(x=t,f.hidden=!x,x||(L=!1),m())}function O(){let t="";for(let n=0;n<i.length;n++)t+=`<div>${n+1}</div>`;o.innerHTML=t}function v(t,n=!1){n||$(),D(),Z()}function Z(){const t=p.paint(i.join(`
`));let n=0,r=l.children[0],s="";for(let c=0;c<=t.length;c++){const u=t[c];if(!u||u.text===`
`){r.innerHTML=s,n++,r=l.children[n],s="";continue}s+=`<span${u.color?` style="color:${u.color}"`:""}>${u.text===" "?"&nbsp;":u.text}</span>`}}function ee(t){T()&&N();const n=t.split(`
`),r=i[e.line1];if(i[e.line1]=r.substring(0,e.key1)+n[0],v(e.line1),n.length===1)e.key1=e.key2+=n[0].length;else{const s=n[n.length-1];if(!i[e.line1+1]){const c=document.createElement("div");c.classList.add("line"),l.children[e.line1].insertAdjacentElement("afterend",c)}i[e.line1+1]=s+r.substring(e.key1),i.splice(e.line1+1,0,...new Array(n.length-2).fill(""));for(let c=0;c<n.length-2;c++){const u=document.createElement("div");u.classList.add("line"),c===0?l.children[e.line1].insertAdjacentElement("afterend",u):l.appendChild(u),i[e.line1+c+1]=n[c+1],v(e.line1+c+1)}v(e.line1+n.length-1),e.key1=e.key2=s.length,e.line1=e.line2+=n.length-1}O(),m()}function te(t){const n=i[e.line1];i[e.line1]=n.substring(0,e.key1)+t+n.substring(e.key1)}function R(t){T()&&N(),te(t),e.key1=++e.key2,v(e.line1),m()}function ne(){T()&&N();let t=0;const n=i[e.line1];for(let c=0;c<n.length&&n[c]===" ";c++)t++;const r=document.createElement("div");r.classList.add("line");const s=l.children[e.line1];s?s.insertAdjacentElement("afterend",r):l.appendChild(r),i.splice(e.line1+1,0,""),i[e.line1]=n.substring(0,e.key1),i[e.line1+1]=" ".repeat(t)+n.substring(e.key1),e.line1=++e.line2,e.key1=t,e.key2=t,v(e.line1-1),v(e.line1),O(),m()}function T(){return e.key1!==e.key2||e.line1!==e.line2}function ie(){if(e.line1===e.line2){e.key1=e.key2=Math.min(e.key1,e.key2),m();return}e.line1>e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),m()}function B(){if(e.line1===e.line2){e.key1=e.key2=Math.max(e.key1,e.key2),m();return}e.line1<e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),m()}function C(){e.key1<0&&(e.key1=0),e.key2<0&&(e.key2=0),e.key1>i[e.line1].length&&(e.key1=i[e.line1].length),e.key2>i[e.line2].length&&(e.key2=i[e.line2].length),e.line1<0&&(e.line1=0),e.line2<0&&(e.line2=0),e.line1>i.length-1&&(e.line1=i.length-1),e.line2>i.length-1&&(e.line2=i.length-1),m()}function N(){if(e.line1===e.line2){const c=Math.min(e.key1,e.key2),u=Math.max(e.key1,e.key2),E=i[e.line1];i[e.line1]=E.substring(0,c)+E.substring(u),e.key1=e.key2=c,v(e.line1),C();return}const t=Math.min(e.line1,e.line2),n=Math.max(e.line1,e.line2),r=t===e.line1?e.key1:e.key2,s=t===e.line2?e.key1:e.key2;i.splice(t+1,n-t-1),[...l.children].slice(t+1,n).forEach(c=>c.remove()),i[t]=i[t].substring(0,r)+i[t+1].substring(s),i.splice(t+1,1),l.children[t+1].remove(),v(),O(),e.key1=e.key2=r,e.line1=e.line2=t,C()}function D(){const t=y.getBoundingClientRect();let n=0;for(let s=0;s<i.length;s++){const c=i[s].length*S;c>n&&(n=c)}let r=i.length*b-t.height;if(n<t.width&&(n=0),r+t.height<t.height&&(r=0),k.x<0&&(k.x=0),k.x>n&&(k.x=n),k.y<0&&(k.y=0),k.y>r&&(k.y=r),d.hidden=n===0,n){const s=`calc(calc(100% - 20px) / 100 * ${Math.floor(n/100)})`,c=Math.floor(k.x/n*100);d.style.bottom=5-k.y+"px",d.style.left=5+k.x+"px",M.style.left=`calc(calc(100% - ${s}) / 100 * ${c})`,M.style.width=s}if(g.hidden=r===0,r){const s=`calc(calc(100% - 20px) / 100 * ${Math.floor(r/100)})`,c=Math.floor(k.y/r*100);g.style.right=5-k.x+"px",g.style.top=5+k.y+"px",h.style.top=`calc(calc(100% - ${s}) / 100 * ${c})`,h.style.height=s}y.scrollTop=k.y,l.scrollLeft=k.x,y.scrollTop<k.y&&(k.y=y.scrollTop,D()),y.scrollLeft<k.x&&(k.x=y.scrollLeft,D())}function F(t,n){k.x=Math.floor(k.x+t),k.y=Math.floor(k.y+n),D()}o.innerHTML="1",f.hidden=!0;let i=[""];for(let t=0;t<i.length;t++)l.innerHTML+='<div class="line"></div>',O(),v();m(),addEventListener("blur",()=>I(!1)),addEventListener("mousedown",t=>{I(t.composedPath().includes(l))});const U={Enter(t){ne()},Delete(t){if(T())return N();if(e.key1===i[e.line1].length){if(e.line1===i.length-1)return;const s=i[e.line1];i.splice(e.line1+1,1),l.children[e.line1+1].remove(),i[e.line1]+=s,v(e.line1),O();return}const n=i[e.line1];let r=0;if(t.ctrlKey){let s=!1;for(let c=e.key1;c<n.length;c++){const u=n[c];if(u!==" "&&(s=!0),u===" "&&s)break;r++}}else r=1;i[e.line1]=i[e.line2]=n.substring(0,e.key1)+n.substring(e.key1+r),v(e.line1)},Backspace(t){if(T())return N();if(e.key1===0){if(e.line1===0)return;const s=i[e.line1];i.splice(e.line1,1),l.children[e.line1].remove(),e.line1=--e.line2,e.key1=e.key2=i[e.line1].length,i[e.line1]+=s,v(e.line1),O(),m();return}const n=i[e.line1];let r=0;if(t.ctrlKey){let s=!1;for(let c=e.key1-1;c>=0;c--){const u=n[c];if(u!==" "&&(s=!0),u===" "&&s)break;r++}}else r=1;i[e.line1]=i[e.line2]=n.substring(0,e.key1-r)+n.substring(e.key1),v(e.line1),e.key1=e.key2-=r,m()},ArrowRight(t){if(t.preventDefault(),!t.shiftKey&&T())return B();e.key2++,t.shiftKey||(e.key1=e.key2),e.key1>i[e.line1].length&&e.line1<i.length-1&&(e.line2++,e.key2=0,t.shiftKey||(e.line1=e.line2,e.key1=0)),C()},ArrowLeft(t){if(t.preventDefault(),!t.shiftKey&&T())return ie();e.key2--,t.shiftKey||(e.key1=e.key2),e.key1<0&&e.line1>0&&(e.line2--,e.key2=1/0,t.shiftKey||(e.key1=1/0,e.line1=e.line2)),C()},ArrowUp(t){if(t.preventDefault(),t.ctrlKey){F(0,-b);return}if(!t.shiftKey&&T()&&B(),e.line1===0){e.key1=0,t.shiftKey||(e.key2=0),m();return}e.line2--,t.shiftKey||(e.line1=e.line2),C()},ArrowDown(t){if(t.preventDefault(),t.ctrlKey){F(0,b);return}if(!t.shiftKey&&T()&&B(),e.line1>=i.length-1){e.key2=i[e.line1].length,t.shiftKey||(e.key1=e.key2),m();return}e.line2++,t.shiftKey||(e.line1=e.line2),C()},Tab(t){t.preventDefault(),R(" "),R(" "),R(" "),R(" ")},Escape(t){t.preventDefault(),e.key1=e.key2,e.line1=e.line2,m()}},le={"control-a"(t){e.line1=e.key1=0,e.key2=i[e.line2=i.length-1].length,m()},async"control-c"(t){const n=Q(e.key1,e.line1,e.key2,e.line2);await navigator.clipboard.writeText(n)},async"control-v"(t){const n=await navigator.clipboard.readText().catch(()=>"");ee(n.replaceAll(`\r
`,`
`))},"control-z"(t){w!==0&&A(w-1)},"control-y"(t){w!==K.length-1&&A(w+1)}},re=["Alt","Shift","Control","Meta","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","CapsLock","Unidentified","AltGraph"];addEventListener("keydown",t=>{if(!x||re.includes(t.key))return;if(t.key in U)return U[t.key](t);if(t.key.length!==1)return console.log("Unregistered key: "+t.key);let n="";t.ctrlKey&&(n+="control-"),t.altKey&&(n+="alt-"),t.shiftKey&&(n+="shift-"),t.metaKey&&(n+="meta-"),n+=t.key;const r=le[n];if(r)return r(t);t.preventDefault(),R(t.key),$()});function Y(t){const n=l.getBoundingClientRect(),r=Math.max(0,Math.min(i.length-1,Math.floor((t.clientY-n.y)/b)));return{x:Math.max(0,Math.min(i[r].length,Math.round((t.clientX-n.x)/S))),y:r}}function j(t,n){const{x:r,y:s}=Y(t);e.key2=r,e.line2=s,n&&(e.key1=r,e.line1=s),m()}return l.addEventListener("mousedown",t=>{L=!0,j(t,!0)}),l.addEventListener("dblclick",t=>{const{x:n,y:r}=Y(t),s=p.tokenize(i[r]);for(let c=0,u=0;c<s.length;c++){const E=s[c];if(u+=E.text.length,u>=n){u-=E.text.length,e.line1=e.line2=r,e.key1=u,e.key2=u+E.text.length,m();return}}}),addEventListener("mousemove",t=>{L&&j(t,!1)}),addEventListener("mouseup",()=>{L&&(L=!1)}),y.addEventListener("wheel",t=>{t.preventDefault(),F(t.deltaX,t.deltaY)}),D(),{get history(){return K},get historyIndex(){return w},get cursor(){return e},get code(){return i}}}const Se=Te(document.querySelector(".editor"));document.querySelector(".run").addEventListener("click",()=>{ce(()=>import(URL.createObjectURL(new Blob([Se.code.join(`
`)],{type:"application/javascript"}))),[])});
