(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const y of o.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function u(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=u(l);fetch(l.href,o)}})();const Q="modulepreload",Z=function(h){return"/lithium/"+h},P={},ee=function(d,u,a){if(!u||u.length===0)return d();const l=document.getElementsByTagName("link");return Promise.all(u.map(o=>{if(o=Z(o),o in P)return;P[o]=!0;const y=o.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(!!a)for(let g=l.length-1;g>=0;g--){const p=l[g];if(p.href===o&&(!y||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${v}`))return;const e=document.createElement("link");if(e.rel=y?"stylesheet":Q,y||(e.as="script",e.crossOrigin=""),e.href=o,document.head.appendChild(e),y)return new Promise((g,p)=>{e.addEventListener("load",g),e.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>d()).catch(o=>{const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=o,window.dispatchEvent(y),!y.defaultPrevented)throw o})},q=0,R=1,$=2,te=[..."0123456789"],ne=[...`!?:=+-*/\\()[]{}&%$^'\`"><;,.@ 
\r`],ie=["abstract","async","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","final","finally","for","function","goto","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","string","number","undefined","string","boolean"],le=[..."\"'`"],re="#699f52",I="#53a7d5",oe="#c67c97",se="#53a7d5",ce="#ce7140",U=h=>te.includes(h)?q:ne.includes(h)?R:$;function j(h){const d=[];for(let u=0;u<h.length;u++){const a=h[u],l=U(a);if(l===R){d.push({type:l,text:a});continue}let o=a;for(;;){u++;const y=h[u];if(u===h.length||U(y)!==l){d.push({type:l,text:o}),u--;break}o+=y}}return d}function ue(h,d){for(let u=d;u>=0;u--){const a=h[u];if(a.text!==" ")return a}return null}function fe(h,d){for(let u=d;u<h.length;u++){const a=h[u];if(a.text!==" ")return a}return null}function ae(h){const d=j(h),u=[];for(let a=0;a<d.length;a++){const l=d[a];if(l.type===R){if(le.includes(l.text)){let v=l.text,b=!1,e=v;for(;;){a++;const g=d[a];if(a===d.length||g.text===v&&!b){g&&(e+=v);break}g.text==="\\"?b=!b:b=!1,e+=g.text}u.push({color:re,text:e});continue}u.push({color:"",text:l.text});continue}if(l.type===q){const v=d[a-1];u.push({color:v&&v.type===$?"":se,text:l.text});continue}const o=ue(d,a-1),y=fe(d,a+1);if(o&&o.text==="."){if(y&&y.text==="("){u.push({color:I,text:l.text});continue}u.push({color:oe,text:l.text});continue}if(o&&o.text==="function"||y&&y.text==="("){u.push({color:I,text:l.text});continue}if(ie.includes(l.text)){u.push({color:ce,text:l.text});continue}u.push({color:"",text:l.text})}return u}function ye(h){const d=document.querySelector(".cursor"),u=document.querySelector(".selection"),a=h.querySelector(".lines"),l=h.querySelector(".code");let o=!1,y=!1;const v=8.88,b=19;let e={line1:0,key1:0,line2:0,key2:0};const g=[];let p=-1,F;function N(t,n){return a.getBoundingClientRect().width+t*v+.5+"px "+(n*b+1.5)+"px"}function T(t,n,r){return`<div style="translate: ${N(t,n)}; width: ${r*v}px"></div>`}function S(){clearTimeout(F),F=setTimeout(()=>{const t={code:[...i],cursor:{...e}};JSON.stringify(t)!==JSON.stringify(g[p])&&(g.splice(p+1,0,t),p++)})}function _(t){p=t;const n=g[p];if(n){i=[...n.code],l.innerHTML='<div class="line"></div>'.repeat(i.length);for(let r=0;r<i.length;r++)x(r,!0);e={...n.cursor},k(!0)}}function J(t,n,r,s){if(n===s)return i[n].substring(Math.min(t,r),Math.max(t,r));let c="";if(n>s){let f=s;s=n,n=f,f=r,r=t,t=f}c+=i[n].substring(t)+`
`;for(let f=n+1;f<s;f++)c+=i[f]+`
`;return c+=i[s].substring(0,r),c}function k(t=!1){if(t||S(),d.style.translate=N(e.key2,e.line2),!L()){u.innerHTML="";return}let n="";if(e.line1===e.line2){const r=Math.min(e.key1,e.key2),s=Math.max(e.key1,e.key2);n=T(r,e.line1,s-r)}else{const r=Math.min(e.line1,e.line2),s=Math.max(e.line1,e.line2);let c=r===e.line1?e.key1:e.key2,f=r===e.line2?e.key1:e.key2;n+=T(c,r,i[r].length-c);for(let m=r+1;m<s;m++)i[m].length>0&&(n+=T(0,m,i[m].length));e.line1!==e.line2&&(n+=T(0,s,f))}u.innerHTML=n}function D(t){o!==t&&t&&(o=t,d.hidden=!o,o||(y=!1),k())}function M(){let t="";for(let n=0;n<i.length;n++)t+=`<div class="lines-line">${n+1}</div>`;a.innerHTML=t}function x(t,n=!1){n||S();const r=l.children[t];let s="";const c=i[t],f=ae(c);for(let m=0;m<f.length;m++){const K=f[m];s+=`<span style="color:${K.color}">${K.text===" "?"&nbsp;":K.text}</span>`}r.innerHTML=s}function W(t){L()&&C();const n=t.split(`
`),r=i[e.line1];if(i[e.line1]=r.substring(0,e.key1)+n[0],x(e.line1),n.length===1)e.key1=e.key2+=n[0].length;else{const s=n[n.length-1];if(!i[e.line1+1]){const c=document.createElement("div");c.classList.add("line"),l.children[e.line1].insertAdjacentElement("afterend",c)}i[e.line1+1]=s+r.substring(e.key1),i.splice(e.line1+1,0,...new Array(n.length-2).fill(""));for(let c=0;c<n.length-2;c++){const f=document.createElement("div");f.classList.add("line"),c===0?l.children[e.line1].insertAdjacentElement("afterend",f):l.appendChild(f),i[e.line1+c+1]=n[c+1],x(e.line1+c+1)}x(e.line1+n.length-1),e.key1=e.key2=s.length,e.line1=e.line2+=n.length-1}M(),k()}function Y(t){const n=i[e.line1];i[e.line1]=n.substring(0,e.key1)+t+n.substring(e.key1)}function w(t){L()&&C(),Y(t),e.key1=++e.key2,x(e.line1),k()}function z(){L()&&C();const t=document.createElement("div");t.classList.add("line");const n=l.children[e.line1];n?n.insertAdjacentElement("afterend",t):l.appendChild(t),i.splice(e.line1+1,0,"");const r=i[e.line1];i[e.line1]=r.substring(0,e.key1),i[e.line1+1]=r.substring(e.key1),e.line1=++e.line2,e.key1=0,e.key2=0,x(e.line1-1),x(e.line1),M(),k()}function L(){return e.key1!==e.key2||e.line1!==e.line2}function G(){if(e.line1===e.line2){e.key1=e.key2=Math.min(e.key1,e.key2),k();return}e.line1>e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),k()}function O(){if(e.line1===e.line2){e.key1=e.key2=Math.max(e.key1,e.key2),k();return}e.line1<e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),k()}function E(){e.key1<0&&(e.key1=0),e.key2<0&&(e.key2=0),e.key1>i[e.line1].length&&(e.key1=i[e.line1].length),e.key2>i[e.line2].length&&(e.key2=i[e.line2].length),e.line1<0&&(e.line1=0),e.line2<0&&(e.line2=0),e.line1>i.length-1&&(e.line1=i.length-1),e.line2>i.length-1&&(e.line2=i.length-1),k()}function C(){if(e.line1===e.line2){const c=Math.min(e.key1,e.key2),f=Math.max(e.key1,e.key2),m=i[e.line1];i[e.line1]=m.substring(0,c)+m.substring(f),e.key1=e.key2=c,x(e.line1),E();return}const t=Math.min(e.line1,e.line2),n=Math.max(e.line1,e.line2),r=t===e.line1?e.key1:e.key2,s=t===e.line2?e.key1:e.key2;i.splice(t+1,n-t-1),[...l.children].slice(t+1,n).forEach(c=>c.remove()),i[t]=i[t].substring(0,r)+i[t+1].substring(s),i.splice(t+1,1),l.children[t+1].remove(),x(t),M(),e.key1=e.key2=r,e.line1=e.line2=t,E()}a.innerHTML="1",d.hidden=!0;let i=`const a = 10;

export function myFunction(text) {
    console.log(text);
}

myFunction(a);`.split(`
`);for(let t=0;t<i.length;t++)l.innerHTML+='<div class="line"></div>',M(),x(t);k(),addEventListener("blur",()=>D(!1)),addEventListener("mousedown",t=>{D(t.composedPath().includes(l))});const A={Enter(t){z()},Delete(t){if(L())return C();if(e.key1===i[e.line1].length){if(e.line1===i.length-1)return;const s=i[e.line1];i.splice(e.line1+1,1),l.children[e.line1+1].remove(),i[e.line1]+=s,x(e.line1),M();return}const n=i[e.line1];let r=0;if(t.ctrlKey){let s=!1;for(let c=e.key1;c<n.length;c++){const f=n[c];if(f!==" "&&(s=!0),f===" "&&s)break;r++}}else r=1;i[e.line1]=i[e.line2]=n.substring(0,e.key1)+n.substring(e.key1+r),x(e.line1)},Backspace(t){if(L())return C();if(e.key1===0){if(e.line1===0)return;const s=i[e.line1];i.splice(e.line1,1),l.children[e.line1].remove(),e.line1=--e.line2,e.key1=e.key2=i[e.line1].length,i[e.line1]+=s,x(e.line1),M(),k();return}const n=i[e.line1];let r=0;if(t.ctrlKey){let s=!1;for(let c=e.key1-1;c>=0;c--){const f=n[c];if(f!==" "&&(s=!0),f===" "&&s)break;r++}}else r=1;i[e.line1]=i[e.line2]=n.substring(0,e.key1-r)+n.substring(e.key1),x(e.line1),e.key1=e.key2-=r,k()},ArrowRight(t){if(t.preventDefault(),!t.shiftKey&&L())return O();e.key2++,t.shiftKey||(e.key1=e.key2),e.key1>i[e.line1].length&&e.line1<i.length-1&&(e.line2++,e.key2=0,t.shiftKey||(e.line1=e.line2,e.key1=0)),E()},ArrowLeft(t){if(t.preventDefault(),!t.shiftKey&&L())return G();e.key2--,t.shiftKey||(e.key1=e.key2),e.key1<0&&e.line1>0&&(e.line2--,e.key2=1/0,t.shiftKey||(e.key1=1/0,e.line1=e.line2)),E()},ArrowUp(t){if(t.preventDefault(),!t.shiftKey&&L()&&O(),e.line1===0){e.key2=0,t.shiftKey||(e.key2=0),k();return}e.line2--,t.shiftKey||(e.line1=e.line2),E()},ArrowDown(t){if(t.preventDefault(),!t.shiftKey&&L()&&O(),e.line1>=i.length-1){e.key2=i[e.line1].length,t.shiftKey||(e.key1=e.key2),k();return}e.line2++,t.shiftKey||(e.line1=e.line2),E()},Tab(t){t.preventDefault(),w(" "),w(" "),w(" "),w(" ")},Escape(t){t.preventDefault(),e.key1=e.key2,e.line1=e.line2,k()}},X={"control-a"(t){e.line1=e.key1=0,e.key2=i[e.line2=i.length-1].length,k()},async"control-c"(t){const n=J(e.key1,e.line1,e.key2,e.line2);await navigator.clipboard.writeText(n)},async"control-v"(t){const n=await navigator.clipboard.readText().catch(()=>"");W(n.replaceAll(`\r
`,`
`))},"control-z"(t){p!==0&&_(p-1)},"control-y"(t){p!==g.length-1&&_(p+1)}},V=["Alt","Shift","Control","Meta","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","CapsLock","Unidentified","AltGraph"];addEventListener("keydown",t=>{if(!o||V.includes(t.key))return;if(t.key in A)return A[t.key](t);if(t.key.length!==1)return console.log("Unregistered key: "+t.key);let n="";t.ctrlKey&&(n+="control-"),t.altKey&&(n+="alt-"),t.shiftKey&&(n+="shift-"),t.metaKey&&(n+="meta-"),n+=t.key;const r=X[n];if(r)return r(t);w(t.key),S()});function B(t){const n=l.getBoundingClientRect(),r=Math.max(0,Math.min(i.length-1,Math.floor((t.clientY-n.y)/b)));return{x:Math.max(0,Math.min(i[r].length,Math.round((t.clientX-n.x)/v))),y:r}}function H(t,n){const{x:r,y:s}=B(t);e.key2=r,e.line2=s,n&&(e.key1=r,e.line1=s),k()}return l.addEventListener("mousedown",t=>{y=!0,H(t,!0)}),l.addEventListener("dblclick",t=>{const{x:n,y:r}=B(t),s=j(i[r]);for(let c=0,f=0;c<s.length;c++){const m=s[c];if(f+=m.text.length,f>=n){f-=m.text.length,e.line1=e.line2=r,e.key1=f,e.key2=f+m.text.length,k();return}}}),addEventListener("mousemove",t=>{y&&H(t,!1)}),addEventListener("mouseup",()=>{y&&(y=!1)}),{get history(){return g},get historyIndex(){return p},get cursor(){return e},get code(){return i}}}const de=ye(document.querySelector(".editor"));document.querySelector(".run").addEventListener("click",h=>{ee(()=>import(URL.createObjectURL(new Blob([de.code.join(`
`)],{type:"application/javascript"}))),[])});
