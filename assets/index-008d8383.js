(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=s(l);fetch(l.href,f)}})();const R=0,T=1,A=2,I=[..."0123456789"],j=[...`!?:=+-*/\\()[]{}&%$^'\`"><;,.@ 
\r`],W=["abstract","async","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","final","finally","for","function","goto","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","string","number","undefined","string","boolean"],Y=[..."\"'`"],G="#699f52",K="#53a7d5",J="#c67c97",X="#53a7d5",z="#ce7140",N=k=>I.includes(k)?R:j.includes(k)?T:A;function Q(k){const y=[];for(let s=0;s<k.length;s++){const a=k[s],l=N(a);if(l===T){y.push({type:l,text:a});continue}let f=a;for(;;){s++;const d=k[s];if(s===k.length||N(d)!==l){y.push({type:l,text:f}),s--;break}f+=d}}return y}function V(k,y){for(let s=y;s>=0;s--){const a=k[s];if(a.text!==" ")return a}return null}function Z(k,y){for(let s=y;s<k.length;s++){const a=k[s];if(a.text!==" ")return a}return null}function ee(k){const y=Q(k),s=[];for(let a=0;a<y.length;a++){const l=y[a];if(l.type===T){if(Y.includes(l.text)){let d=l.text,m=!1,x=d;for(;;){a++;const e=y[a];if(a===y.length||e.text===d&&!m){e&&(x+=d);break}e.text==="\\"?m=!m:m=!1,x+=e.text}s.push({color:G,text:x});continue}s.push({color:"",text:l.text});continue}if(l.type===R){const d=y[a-1];s.push({color:d&&d.type===A?"":X,text:l.text});continue}const f=V(y,a-1);if(f&&f.text==="."){const d=Z(y,a+1);if(d&&d.text==="("){s.push({color:K,text:l.text});continue}s.push({color:J,text:l.text});continue}if(f&&f.text==="function"){s.push({color:K,text:l.text});continue}if(W.includes(l.text)){s.push({color:z,text:l.text});continue}s.push({color:"",text:l.text})}return s}function ne(k){const y=document.querySelector(".cursor"),s=document.querySelector(".selection"),a=k.querySelector(".lines"),l=k.querySelector(".code");let f=!1,d=!1;const m=8.88,x=19,e={line1:0,key1:0,line2:0,key2:0};function O(n,t){return a.getBoundingClientRect().width+n*m+.5+"px "+(t*x+1.5)+"px"}function w(n,t,r){return`<div style="translate: ${O(n,t)}; width: ${r*m}px"></div>`}function _(n,t,r,c){if(t===c)return i[t].substring(Math.min(n,r),Math.max(n,r));let o="";if(t>c){let u=c;c=t,t=u,u=r,r=n,n=u}o+=i[t].substring(n)+`
`;for(let u=t+1;u<c;u++)o+=i[u]+`
`;return o+=i[c].substring(0,r),o}function h(){if(y.style.translate=O(e.key2,e.line2),!g()){s.innerHTML="";return}let n="";if(e.line1===e.line2){const t=Math.min(e.key1,e.key2),r=Math.max(e.key1,e.key2);n=w(t,e.line1,r-t)}else{const t=Math.min(e.line1,e.line2),r=Math.max(e.line1,e.line2);let c=t===e.line1?e.key1:e.key2,o=t===e.line2?e.key1:e.key2;n+=w(c,t,i[t].length-c);for(let u=t+1;u<r;u++)i[u].length>0&&(n+=w(0,u,i[u].length));e.line1!==e.line2&&(n+=w(0,r,o))}s.innerHTML=n}function S(n){f!==n&&n&&(f=n,y.hidden=!f,f||(d=!1),h())}function v(){let n="";for(let t=0;t<i.length;t++)n+=`<div class="lines-line">${t+1}</div>`;a.innerHTML=n}function p(n){const t=l.children[n];let r="";const c=i[n],o=ee(c);for(let u=0;u<o.length;u++){const b=o[u];r+=`<span style="color:${b.color}">${b.text===" "?"&nbsp;":b.text}</span>`}t.innerHTML=r}function B(n){g()&&L();const t=n.split(`
`),r=i[e.line1];if(i[e.line1]=r.substring(0,e.key1)+t[0],p(e.line1),t.length===1)e.key1=e.key2+=t[0].length;else{const c=t[t.length-1];if(!i[e.line1+1]){const o=document.createElement("div");o.classList.add("line"),l.children[e.line1].insertAdjacentElement("afterend",o)}i[e.line1+1]=c+r.substring(e.key1),p(e.line1+1),i.splice(e.line1+1,0,...new Array(t.length-2).fill(""));for(let o=0;o<t.length-2;o++){const u=document.createElement("div");u.classList.add("line"),o===0?l.children[e.line1].insertAdjacentElement("afterend",u):l.appendChild(u),i[e.line1+o+1]=t[o+1],p(e.line1+o+1)}e.key1=e.key2=c.length,e.line1=e.line2+=t.length-1}v(),h()}function H(n){const t=i[e.line1];i[e.line1]=t.substring(0,e.key1)+n+t.substring(e.key1)}function M(n){g()&&L(),H(n),e.key1=++e.key2,p(e.line1),h()}function q(){g()&&L();const n=document.createElement("div");n.classList.add("line");const t=l.children[e.line1];t?t.insertAdjacentElement("afterend",n):l.appendChild(n),i.splice(e.line1+1,0,"");const r=i[e.line1];i[e.line1]=r.substring(0,e.key1),i[e.line1+1]=r.substring(e.key1),e.line1=++e.line2,e.key1=0,e.key2=0,p(e.line1-1),p(e.line1),v(),h()}function g(){return e.key1!==e.key2||e.line1!==e.line2}function P(){if(e.line1===e.line2){e.key1=e.key2=Math.min(e.key1,e.key2),h();return}e.line1>e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),h()}function E(){if(e.line1===e.line2){e.key1=e.key2=Math.max(e.key1,e.key2),h();return}e.line1<e.line2?(e.key1=e.key2,e.line1=e.line2):(e.key2=e.key1,e.line2=e.line1),h()}function C(){e.key1<0&&(e.key1=e.key2=0),e.key1>i[e.line1].length&&(e.key1=e.key2=i[e.line1].length),e.line1<0&&(e.line1=e.line2=0),e.line1>i.length-1&&(e.line1=e.line2=i.length-1),h()}function L(){if(e.line1===e.line2){const o=Math.min(e.key1,e.key2),u=Math.max(e.key1,e.key2),b=i[e.line1];i[e.line1]=b.substring(0,o)+b.substring(u),e.key1=e.key2=o,p(e.line1),h();return}const n=Math.min(e.line1,e.line2),t=Math.max(e.line1,e.line2),r=n===e.line1?e.key1:e.key2,c=n===e.line2?e.key1:e.key2;i.splice(n+1,t-n-1),[...l.children].slice(n+1,t).forEach(o=>o.remove()),i[n]=i[n].substring(0,r)+i[n+1].substring(c),i.splice(n+1,1),l.children[n+1].remove(),p(n),v(),e.key1=e.key2=r,e.line1=e.line2=n,h()}a.innerHTML="1",y.hidden=!0;const i=["abc def ghi"];for(let n=0;n<i.length;n++)l.innerHTML+='<div class="line"></div>',v(),p(n),e.line1=++e.line2;addEventListener("blur",()=>S(!1)),addEventListener("mousedown",n=>{S(n.composedPath().includes(l))});const F={Enter(n){q()},Delete(n){if(g())return L();if(e.key1===i[e.line1].length){if(e.line1===i.length-1)return;const c=i[e.line1];i.splice(e.line1+1,1),l.children[e.line1+1].remove(),i[e.line1]+=c,p(e.line1),v();return}const t=i[e.line1];let r=0;if(n.ctrlKey){let c=!1;for(let o=e.key1;o<t.length;o++){const u=t[o];if(u!==" "&&(c=!0),u===" "&&c)break;r++}}else r=1;i[e.line1]=i[e.line2]=t.substring(0,e.key1)+t.substring(e.key1+r),p(e.line1)},Backspace(n){if(g())return L();if(e.key1===0){if(e.line1===0)return;const c=i[e.line1];i.splice(e.line1,1),l.children[e.line1].remove(),e.line1=--e.line2,e.key1=e.key2=i[e.line1].length,i[e.line1]+=c,p(e.line1),v(),h();return}const t=i[e.line1];let r=0;if(n.ctrlKey){let c=!1;for(let o=e.key1-1;o>=0;o--){const u=t[o];if(u!==" "&&(c=!0),u===" "&&c)break;r++}}else r=1;i[e.line1]=i[e.line2]=t.substring(0,e.key1-r)+t.substring(e.key1),p(e.line1),e.key1=e.key2-=r,h()},ArrowRight(n){if(n.preventDefault(),g())return E();e.key1=++e.key2,e.key1>i[e.line1].length&&e.line1<i.length-1&&(e.line1=++e.line2,e.key1=e.key2=0),C()},ArrowLeft(n){if(n.preventDefault(),g())return P();e.key1=--e.key2,e.key1<0&&e.line1>0&&(e.line1=--e.line2,e.key1=e.key2=1/0),C()},ArrowUp(n){if(n.preventDefault(),g()&&E(),e.line1===0){e.key1=e.key2=0,h();return}e.line1=--e.line2,C()},ArrowDown(n){if(n.preventDefault(),g()&&E(),e.line1>=i.length-1){e.key1=e.key2=i[e.line1].length,h();return}e.line1=++e.line2,C()},Tab(n){n.preventDefault(),M(" "),M(" "),M(" "),M(" ")},Escape(n){n.preventDefault(),e.key1=e.key2,e.line1=e.line2,h()}},U={"control-a"(n){e.line1=e.key1=0,e.key2=i[e.line2=i.length-1].length,h()},async"control-c"(n){const t=_(e.key1,e.line1,e.key2,e.line2);await navigator.clipboard.writeText(t)},async"control-v"(n){const t=await navigator.clipboard.readText().catch(()=>"");B(t.replaceAll(`\r
`,`
`))}},$=["Alt","Shift","Control","Meta","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","CapsLock","Unidentified","AltGraph"];addEventListener("keydown",n=>{if(!f||$.includes(n.key))return;if(n.key in F)return F[n.key](n);if(n.key.length!==1)return console.log("Unregistered key: "+n.key);let t="";n.ctrlKey&&(t+="control-"),n.altKey&&(t+="alt-"),n.shiftKey&&(t+="shift-"),n.metaKey&&(t+="meta-"),t+=n.key;const r=U[t];if(r)return r(n);M(n.key)});function D(n,t){const r=l.getBoundingClientRect(),c=Math.max(0,Math.min(i.length-1,Math.floor((n.clientY-r.y)/x))),o=Math.max(0,Math.min(i[c].length,Math.round((n.clientX-r.x)/m)));e.key2=o,e.line2=c,t&&(e.key1=o,e.line1=c),h()}l.addEventListener("mousedown",n=>{d=!0,D(n,!0)}),addEventListener("mousemove",n=>{d&&D(n,!1)}),addEventListener("mouseup",()=>{d&&(d=!1)})}ne(document.querySelector(".editor"));
